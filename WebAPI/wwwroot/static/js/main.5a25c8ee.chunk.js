(this["webpackJsonpcontrol--app"]=this["webpackJsonpcontrol--app"]||[]).push([[0],{131:function(e,t){},164:function(e,t,n){},204:function(e,t){},205:function(e,t){},206:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(13),l=n.n(i),s=(n(164),n(7)),o=(n(165),n(274)),j=n(136),u=Object(j.a)({palette:{primary:{light:"#63a4fff",main:"#009900",dark:"#1e88e5",contrastText:"#ecfad8"}}}),d=n(19),b=n(8),x=n(15),m=n.n(x),O=n(23),h=n(89),p=n(249),f=n(278),g=n(254),v=n(66),y=n.n(v),C=n(282),N=n(255),E=n(256),I=n(257),A={paper:{marginTop:50,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#fafafa"},form:{width:"100%",marginTop:20},submit:{marginTop:5},avatar:{margin:5,width:100,height:100},icon:{fontSize:40}},P=n(24),w=n.n(P);w.a.defaults.baseURL="http://controlyoulead-001-site1.ftempurl.com/api",w.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("token_seguridad");if(t)return e.headers.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));var S={get:function(e){return w.a.get(e)},post:function(e,t){return w.a.post(e,t)},put:function(e,t){return w.a.put(e,t)},delete:function(e){return w.a.delete(e)}},k=w.a.create();k.CancelToken=w.a.CancelToken,k.isCancel=w.a.isCancel;var T=function(e,t){return new Promise((function(n,a){k.post("/usuario/login",e).then((function(e){if(e.data&&e.data.imagenPerfil){var a=e.data.imagenPerfil,c="data:image/"+a.extension+";base64,"+a.data;e.data.imagenPerfil=c}t({type:"INICIAR_SESION",sesion:e.data,autenticado:!0}),n(e)})).catch((function(e){n(e.response)}))}))},M=function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/usuario/registrar",n=k.post("/usuario/registrar",t),e.next=4,Promise.all([n].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/edit",n=k.put("/edit",t),e.next=4,Promise.all([n].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/usuario/".concat(t.id),a=S.delete(n,t),e.next=4,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=Object(c.createContext)(),L=function(e){var t=e.reducer,n=e.initialState,r=e.children;return Object(a.jsx)(D.Provider,{value:Object(c.useReducer)(t,n),children:r})},W=function(){return Object(c.useContext)(D)},F=n(246),_=n(247),z=n(248),B=n(276);function G(){K();return Object(a.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 YouLEAD  ",(new Date).getFullYear(),"."]})}var K=Object(F.a)((function(e){return{submit:{margin:e.spacing(3,0,2)}}})),V=[],Y=function(){var e=K(),t=W(),n=Object(s.a)(t,2),r=(n[0].sesionUsuario,n[1]),i=Object(c.useState)(),l=Object(s.a)(i,2),o=(l[0],l[1]),j=Object(c.useState)([]),u=Object(s.a)(j,2);u[0],u[1];Object(c.useEffect)((function(){return function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){S.get("/usuario/lista").then((function(t){e(t)}))}));case 2:t=e.sent,console.log("usuarios"),console.log(t.data),o(t.data),(V=t.data).map((function(e){return console.log(e.userName)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var x=Object(c.useState)({nombreCompleto:"",email:"",password:"",userName:""}),h=Object(s.a)(x,2),v=h[0],P=h[1],w=function(e){var t=e.target,n=t.name,a=t.value;P((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))},k=function(){P({nombreCompleto:"",email:"",password:"",userName:""})},T=Object(c.useState)(!1),D=Object(s.a)(T,2),L=D[0],F=D[1],Y=Object(c.useState)(!1),q=Object(s.a)(Y,2),J=q[0],H=q[1],X=Object(c.useState)({id:"",email:"",UserName:""}),Z=Object(s.a)(X,2),$=Z[0],Q=Z[1],ee=function(e){var t=e.target,n=t.name,a=t.value;Q((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))},te=function(e,t){Q(e),"Editar"===t?F(!0):H(!0)},ne=function(e){U($).then((function(e){var t="";200===e[0].status&&(t+="Se actualizo exitosamente",P({email:"",UserName:""})),r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:t}})})),F(!1)};return Object(a.jsx)("div",{style:A.paper,className:"container",children:Object(a.jsx)(_.a,{className:e.root,style:{background:"#009900"},children:Object(a.jsx)(z.a,{children:Object(a.jsxs)("div",{style:A.paper,className:"container",children:[Object(a.jsx)("h1",{children:"Usuarios"}),Object(a.jsxs)("div",{className:"flex-row",children:[Object(a.jsxs)("div",{className:"flex-large",children:[Object(a.jsx)("h2",{children:"Add user"}),Object(a.jsx)("div",{style:A.paper,children:Object(a.jsxs)("form",{style:A.form,children:[Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(p.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(f.a,{name:"nombreCompleto",value:v.nombreCompleto,onChange:w,variant:"outlined",fullWidth:!0,label:"Nombre y apellidos"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"email",value:v.email,onChange:w,variant:"outlined",fullWidth:!0,label:"Email"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"userName",value:v.userName,onChange:w,variant:"outlined",fullWidth:!0,label:"UserName"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"password",value:v.password,onChange:w,type:"password",variant:"outlined",fullWidth:!0,label:"Registre una contrase\xf1a"})})]}),Object(a.jsx)(p.a,{container:!0,justify:"center",children:Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(B.a,{mt:8,children:Object(a.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"medium",startIcon:Object(a.jsx)(y.a,{}),style:A.submit,onClick:function(e){e.preventDefault(),M(v).then((function(e){var t="";200===e[0].status&&(t+="Se guardo exitosamente el nuevo usuario",k()),r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:t}})}))},children:"Guardar Usuario"})})})})]})})]}),Object(a.jsx)(B.a,{mt:10,children:Object(a.jsxs)("div",{className:"flex-large",children:[Object(a.jsx)("h2",{children:"View users"}),Object(a.jsx)("div",{align:"center",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsxs)("table",{className:"table table-responsive text-center text-white",children:[Object(a.jsx)("thead",{style:{background:"#009900"},children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:" ID "}),Object(a.jsx)("th",{scope:"col",children:" UserName "}),Object(a.jsx)("th",{scope:"col",children:" Email"}),Object(a.jsx)("th",{scope:"col",children:" Editar"}),Object(a.jsx)("th",{scope:"col",children:" Eliminar"})]})}),Object(a.jsx)("tbody",{children:V.map((function(e){return Object(a.jsxs)("tr",{class:"text-left text-dark",children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.userName}),Object(a.jsx)("td",{children:e.email}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return te(e,"Editar")},children:"Editar"})}),"   ",Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return te(e,"Eliminar")},children:"Eliminar"})})]},e.id)}))})]})})})})]})})]}),Object(a.jsx)(B.a,{mt:10,children:Object(a.jsx)(G,{})}),Object(a.jsxs)(C.a,{isOpen:L,children:[Object(a.jsx)(N.a,{background:"#388e3c",children:Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:"Editar Usuario"})})}),Object(a.jsx)(E.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"ID"}),Object(a.jsx)("input",{className:"form-control",readOnly:!0,type:"text",name:"id",value:$&&$.id}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{className:"form-control",readOnly:!0,type:"text",name:"email",value:$&&$.email,onChange:ee}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"UserName"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"UserName",value:$&&$.UserName,onChange:ee}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return ne()},children:"Actualizar"}),Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return F(!1)},children:"Cancelar"})]})]}),Object(a.jsxs)(C.a,{isOpen:J,children:[Object(a.jsxs)(E.a,{children:["Est\xe1s Seguro que deseas eliminar el Usuario"," ",$&&$.userName]}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return R($).then((function(e){var t="";200===e[0].status&&(t+="Se elimino exitosamente",k()),r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:t}})})),void H(!1)},children:"S\xed"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return H(!1)},children:"No"})]})]})]})})})})},q=n(258),J=n(21),H=n.p+"static/media/YouLEAD.703c01b2.jpg",X=(Object(J.g)((function(e){var t=W(),n=Object(s.a)(t,2),r=(n[0].usuarioSesion,n[1]),i=Object(c.useState)({Email:"",Password:""}),l=Object(s.a)(i,2),o=l[0],j=l[1],u=function(e){var t=e.target,n=t.name,a=t.value;j((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))};return Object(a.jsx)(q.a,{maxWidth:"xs",children:Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{component:"div",variant:"h1",style:{height:"25vh"},children:Object(a.jsx)("img",{src:H,alt:"",height:"650",width:"600"})})}),Object(a.jsx)(h.a,{component:"h1",variant:"h5",children:"Login de Usuario"}),Object(a.jsxs)("form",{style:A.form,children:[Object(a.jsx)(f.a,{name:"Email",value:o.Email,onChange:u,variant:"outlined",label:"Email",fullWidth:!0,margin:"normal"}),Object(a.jsx)(f.a,{name:"Password",value:o.Password,onChange:u,variant:"outlined",type:"password",label:"Password",fullWidth:!0,margin:"normal"}),Object(a.jsx)(g.a,{type:"submit",onClick:function(t){t.preventDefault(),T(o,r).then((function(t){console.log("response.data.token",t.data.token),200===t.status?(window.localStorage.setItem("token_seguridad",t.data.token),e.history.push("/")):r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Las credenciales del usuario son incorrectas"}})}))},fullWidth:!0,variant:"contained",color:"primary",style:A.submit,children:"Ingresar"})]})]})})})),n(285)),Z=n.p+"static/media/logo.6ce24c58.svg",$=n(279),Q=n(97),ee=n.n(Q),te=function(){var e=W(),t=Object(s.a)(e,2),n=t[0].sesionUsuario,r=t[1],i=Object(c.useState)({nombreCompleto:"",email:"",password:"",confirmarPassword:"",userName:"",imagenPerfil:null,fotoUrl:""}),l=Object(s.a)(i,2),o=l[0],j=l[1],u=function(e){var t=e.target,n=t.name,a=t.value;j((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))};Object(c.useEffect)((function(){j(n.usuario),j((function(e){return Object(b.a)(Object(b.a)({},e),{},{fotoUrl:n.usuario.imagenPerfil,imagenPerfil:null})}))}),[]);var x=Object($.a)();return Object(a.jsx)(q.a,{component:"main",maxWidth:"md",justify:"center",children:Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)(X.a,{style:A.avatar,src:o.fotoUrl||Z}),Object(a.jsx)(h.a,{component:"h1",variant:"h5",children:"Perfil de Usuario"}),Object(a.jsx)(B.a,{mt:6,children:Object(a.jsxs)("form",{style:A.form,children:[Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(p.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(f.a,{name:"nombreCompleto",value:o.nombreCompleto,onChange:u,fullWidth:!0,label:"Ingrese nombre y apellidos"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"username",value:o.userName,onChange:u,fullWidth:!0,label:"Ingrese Username",InputProps:{readOnly:!0}})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"email",value:o.email,onChange:u,fullWidth:!0,label:"Ingrese email"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"password",value:o.password,onChange:u,type:"password",fullWidth:!0,label:"Ingrese password"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"confirmarPassword",value:o.confirmarPassword,onChange:u,type:"password",fullWidth:!0,label:"confirme password"})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(ee.a,{withIcon:!1,singleImage:!0,buttonText:"Seleccione una imagen de perfil",onChange:function(e){var t,n=e[0],a=URL.createObjectURL(n);(t=n,new Promise((function(e,n){var a=t.name,c=t.name.split(".").pop(),r=new FileReader;r.readAsDataURL(t),r.onload=function(){return e({data:r.result.split(",")[1],nombre:a,extension:c})},r.onerror=function(e){return PromiseRejectionEvent(e)}}))).then((function(e){j((function(t){return Object(b.a)(Object(b.a)({},t),{},{imagenPerfil:e,fotoUrl:a})}))}))},imgExtension:[".jpg",".gif",".png",".jpeg"],maxFileSize:5242880},x)})]}),Object(a.jsx)(p.a,{container:!0,justify:"center",children:Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),console.log("usuario beofre send",o),function(e,t){return new Promise((function(n,a){k.put("/Usuario",e).then((function(e){if(e.data&&e.data.imagenPerfil){var a=e.data.imagenPerfil,c="data:image/"+a.extension+";base64,"+a.data;e.data.imagenPerfil=c}t({type:"INICIAR_SESION",sesion:e.data,autenticado:!0}),n(e)})).catch((function(e){n(e.response)}))}))}(o,r).then((function(e){200===e.status?(r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Se guardaron exitosamente los cambios en Perfil Usuario"}}),window.localStorage.setItem("token_seguridad",e.data.token)):r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Errores al intentar guardar en : "+Object.keys(e.data.errors)}})}))},fullWidth:!0,variant:"contained",size:"large",color:"primary",style:A.submit,children:"Guardar Datos"})})})]})})]})})},ne=n(31),ae=n(283),ce=n(264),re=n(286),ie=n(253),le=n(210),se=n(259),oe=n(260),je=n(262),ue=n(263),de=function(e){var t=e.classes;return Object(a.jsxs)("div",{className:t.list,children:[Object(a.jsx)(ie.a,{children:Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/auth/registrar",children:[Object(a.jsx)("i",{className:"material-icons",children:"account_circle"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Configuracion Usuarios"})]})}),Object(a.jsx)(oe.a,{}),Object(a.jsxs)(ie.a,{children:[Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/instructor/nuevo",children:[Object(a.jsx)("i",{className:"material-icons",children:"person_add"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Nuevo Instructor"})]}),Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/instructor/paginador",children:[Object(a.jsx)("i",{className:"material-icons",children:"list_alt"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Lista de Instructores"})]})]}),Object(a.jsx)(oe.a,{}),Object(a.jsx)(ie.a,{children:Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/alumno/paginador",children:[Object(a.jsx)("i",{className:"material-icons",children:"list_alt"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Lista Alumnos"})]})})]})},be=function(e){var t=e.classes,n=e.usuario,c=e.salirSesion;return Object(a.jsx)("div",{className:t.list,children:Object(a.jsxs)(ie.a,{children:[Object(a.jsxs)(le.a,{button:!0,component:ne.b,children:[Object(a.jsx)(X.a,{src:n.imagenPerfil||Z}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:n?n.nombreCompleto:""})]}),Object(a.jsx)(le.a,{button:!0,onClick:c,children:Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Salir"})})]})})},xe=Object(F.a)((function(e){return{seccionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),seccionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),grow:{flexGrow:1},avatarSize:{width:40,height:40},list:{width:250},listItemText:{fontSize:"14px",fontWeight:600,paddingLeft:"15px"}}})),me=Object(J.g)((function(e){var t=xe(),n=W(),i=Object(s.a)(n,2),l=i[0].sesionUsuario,o=i[1],j=Object(c.useState)(!1),u=Object(s.a)(j,2),d=u[0],b=u[1],x=Object(c.useState)(!1),m=Object(s.a)(x,2),O=m[0],p=m[1],f=function(){p(!1)},v=function(){console.log("salir sesion"),localStorage.removeItem("token_seguridad"),o({type:"SALIR_SESION",nuevoUsuario:null,autenticado:!1}),e.history.push("/auth/login")},y=Object(c.useState)(!1),C=Object(s.a)(y,2),N=C[0],E=C[1];return Object(c.useEffect)((function(){console.log(N)})),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)(re.a,{open:d,onClose:function(){b(!1)},anchor:"left",children:[Object(a.jsx)("div",{children:Object(a.jsx)(ie.a,{children:Object(a.jsxs)(le.a,{button:!0,onClick:function(){var e=window.localStorage.getItem("token_seguridad");console.log(e),e=e.split(".")[1];var t=window.atob(e),n=JSON.parse(t);console.log(n),console.log(n.role);var a=n.role;if(console.log(a),"Admi"==a)return E(!N);console.log("No tienes permiso")},children:[Object(a.jsx)("i",{className:"material-icons",children:"lock"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText}}),N&&Object(a.jsx)(de,{classes:t})]})})}),Object(a.jsx)("div",{className:t.list,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{children:Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/auth/perfil",children:[Object(a.jsx)("i",{className:"material-icons",children:"account_box"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Mi Perfil"})]})}),Object(a.jsx)(oe.a,{}),Object(a.jsx)(ie.a,{children:Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/alumno/nuevo",children:[Object(a.jsx)("i",{className:"material-icons",children:"person_add"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Nuevo Alumno"})]})}),Object(a.jsx)(ie.a,{children:Object(a.jsxs)(le.a,{component:ne.b,button:!0,to:"/alumno/listaAlumno",children:[Object(a.jsx)("i",{className:"material-icons",children:"list_alt"}),Object(a.jsx)(se.a,{classes:{primary:t.listItemText},primary:"Lista Alumnos"})]})})]})})]}),Object(a.jsx)(re.a,{open:O,onClose:f,anchor:"right",children:Object(a.jsx)("div",{className:t.list,onClick:f,onKeyDown:f,children:Object(a.jsx)(be,{classes:t,salirSesion:v,usuario:l?l.usuario:null})})}),Object(a.jsxs)(je.a,{style:{background:"#1976d2"},children:[Object(a.jsx)(ue.a,{color:"inherit",onClick:function(){b(!0)},children:Object(a.jsx)("i",{className:"material-icons",children:"menu_open"})}),Object(a.jsx)(h.a,{variant:"h6",children:"Control Escolar"}),Object(a.jsx)("div",{className:t.grow}),Object(a.jsxs)("div",{className:t.seccionDesktop,children:[Object(a.jsx)(g.a,{color:"inherit",onClick:v,children:"Salir"}),Object(a.jsx)(g.a,{color:"inherit",children:l?l.usuario.userName:""}),Object(a.jsx)(X.a,{src:l.usuario.imagenPerfil||Z})]}),Object(a.jsx)("div",{className:t.seccionMobile,children:Object(a.jsx)(ue.a,{color:"inherit",onClick:function(){p(!0)},children:Object(a.jsx)("i",{className:"material-icons",children:"more_vert"})})})]})]})})),Oe=function(){var e=W(),t=Object(s.a)(e,2),n=t[0].sesionUsuario;t[1];return n&&1==n.autenticado?Object(a.jsx)(ce.a,{position:"static",children:Object(a.jsx)(me,{})}):null},he=n(137);var pe=function(e){var t=e.component,n=Object(he.a)(e,["component"]),c=W(),r=Object(s.a)(c,2),i=r[0].sesionUsuario;return r[1],Object(a.jsx)(J.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return i?1==i.autenticado?Object(a.jsx)(t,Object(b.a)(Object(b.a)({},e),n)):Object(a.jsx)(J.a,{to:"/auth/perfil"}):Object(a.jsx)(J.a,{to:"/auth/login"})}}))},fe=w.a.create();fe.CancelToken=w.a.CancelToken,fe.isCancel=w.a.isCancel;var ge=function(){var e=Object(O.a)(m.a.mark((function e(t,n){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/instructores",a=S.post("/instructores",t),!n){e.next=10;break}return"/documento",c=S.post("/documento",n),e.next=7,Promise.all([a,c].map((function(e){return e.catch((function(e){return e}))})));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(e){return new Promise((function(t,n){S.post("/instructores/report",e).then((function(e){t(e)}))}))},ye=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/instructores/".concat(t.InstructorId),a=S.put(n,t),e.next=4,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/instructores/".concat(t.instructorId),a=S.delete(n,t),e.next=4,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){return new Promise((function(t,n){S.post(window.open("http://localhost:5000/api/ExportarDocumento","_self"),e).then((function(e){t(e)}))}))},Ee=n(265);function Ie(){Ae();return Object(a.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 YouLEAD  ",(new Date).getFullYear(),"."]})}var Ae=Object(F.a)((function(e){return{submit:{margin:e.spacing(3,0,2)}}})),Pe=function(){var e=Object(F.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})(),t=(e.bullet,W()),n=Object(s.a)(t,2),r=(n[0].sesionUsuario,n[1]),i=Object(c.useState)(new Date),l=Object(s.a)(i,2),o=(l[0],l[1]),j=Object(c.useState)({Nombre:"",Apellidos:"",TelefonoM:"",Email:"",CentroAprendizaje:"",CantAlumnos:0,Categoria:"",UplineMaster:"",ClaveInstructor:"",ClaveUpline:""}),u=Object(s.a)(j,2),x=u[0],m=u[1],O=function(e){var t=e.target,n=t.name,a=t.value;m((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))};return Object(a.jsx)("div",{style:A.paper,className:"container",children:Object(a.jsx)(_.a,{className:e.root,style:{background:"#009900"},children:Object(a.jsx)(z.a,{children:Object(a.jsxs)("div",{style:A.paper,className:"container",children:[Object(a.jsx)("h2",{children:"C\xe9dula de registro"}),Object(a.jsx)("div",{className:"flex-row",children:Object(a.jsxs)("div",{className:"flex-large",children:[Object(a.jsx)("h3",{children:"Datos generales del Instructor"}),Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)("form",{style:A.form}),Object(a.jsxs)(p.a,{container:!0,spacing:5,children:[Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"Nombre",fullWidth:!0,label:"Ingrese Nombre(s)",value:x.Nombre,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:5,children:Object(a.jsx)(f.a,{name:"Apellidos",fullWidth:!0,label:"Apellidos",value:x.Apellidos,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"TelefonoM",fullWidth:!0,label:"Telefono",value:x.TelefonoM,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:5,children:Object(a.jsx)(f.a,{name:"Email",fullWidth:!0,label:"Email",value:x.Email,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:5,children:Object(a.jsx)(f.a,{name:"CentroAprendizaje",fullWidth:!0,label:"Ingresar CentroAprendizaje",value:x.CentroAprendizaje,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(f.a,{name:"CantAlumnos",type:"number",fullWidth:!0,label:"Cantidad Alumnos",value:x.CantAlumnos,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"Categoria",select:!0,fullWidth:!0,label:"Categoria",value:x.Categoria,onChange:O,helperText:"Please select your category",children:[{value:"Master",label:"Master"},{value:"Socio",label:"Socio"},{value:"Master-Socio",label:"Master-Socio"}].map((function(e){return Object(a.jsx)(Ee.a,{value:e.value,children:e.label},e.value)}))})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"ClaveInstructor",fullWidth:!0,label:"Registre su clave de Instructor",value:x.ClaveInstructor,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"UplineMaster",fullWidth:!0,label:"UplineMaster",value:x.UplineMaster,onChange:O})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"ClaveUpline",fullWidth:!0,label:"Clave de su Upline",value:x.ClaveUpline,onChange:O})})]}),Object(a.jsx)(p.a,{container:!0,justify:"center",children:Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(B.a,{mt:10,children:Object(a.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",startIcon:Object(a.jsx)(y.a,{}),style:A.submit,onClick:function(e){e.preventDefault();var t={Nombre:x.Nombre,Apellidos:x.Apellidos,TelefonoM:parseInt(x.TelefonoM),Email:x.Email,CentroAprendizaje:x.CentroAprendizaje,CantAlumnos:parseInt(x.CantAlumnos),Categoria:x.Categoria,UplineMaster:x.UplineMaster,ClaveInstructor:x.ClaveInstructor,ClaveUpline:x.ClaveUpline};ge(t).then((function(e){var t=e[0],n="";200===t.status?(n+="Se guardo exitosamente el nuevo instructor",o(new Date),m({Nombre:"",Apellidos:"",TelefonoM:"",Email:"",CentroAprendizaje:"",CantAlumnos:0,Categoria:"",UplineMaster:"",ClaveInstructor:"",ClaveUpline:""})):n+="Errores :"+Object.keys(t.response.data.errors),r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:n}})}))},children:"Guardar Instructor"})})})}),Object(a.jsx)(B.a,{mt:10,children:Object(a.jsx)(Ie,{})})]})]})})]})})})})},we=n(267),Se=n(268),ke=n(103),Te=n(269),Me=n(270),Ue=n(271),Re=n(280),De=n(272),Le=n(281),We=n(266);function Fe(e,t){var n=Object(c.useState)(),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e]),r}var _e=n(6),ze=n(99),Be=n.n(ze),Ge=n(98),Ke=n.n(Ge),Ve=n(135),Ye=n.n(Ve),qe=n(45),Je=n.n(qe),He=n(84),Xe=n(68),Ze=function(e){var t=e.apiData,n=e.fileName,c=Object(F.a)((function(e){return{margin:{margin:e.spacing(2)},extendedIcon:{marginRight:e.spacing(2)}}}))();return Object(a.jsx)("di",{style:A.paper,children:Object(a.jsxs)(We.a,{style:A.submit,variant:"extended",color:"primary","aria-label":"add",className:c.margin,onClick:function(e){return function(e,t){var n={Sheets:{data:Xe.utils.json_to_sheet(e)},SheetNames:["data"]},a=Xe.write(n,{bookType:"xlsx",type:"array"}),c=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});He.saveAs(c,t+".xlsx")}(t,n)},children:[Object(a.jsx)(Je.a,{className:c.extendedIcon}),"Export Excel"]})})},$e=[],Qe=[],et=function(){var e=Object(_e.a)((function(e){return{head:{backgroundColor:"#009900",color:e.palette.common.white},body:{fontSize:14}}}))(we.a),t=Object(F.a)((function(e){return{margin:{margin:e.spacing(2)},extendedIcon:{marginRight:e.spacing(2)}}}))(),n=W(),r=Object(s.a)(n,2),i=(r[0].sesionUsuario,r[1]),l=Object(c.useState)([]),o=Object(s.a)(l,2),j=(o[0],o[1],Object(c.useState)("")),u=Object(s.a)(j,2),x=u[0],h=u[1],g=Fe(x,900),v=Object(c.useState)({titulo:"",numeroPagina:0,cantidadElementos:5}),y=Object(s.a)(v,2),P=y[0],w=y[1],k=Object(c.useState)({listaRecords:[],totalRecords:0,numeroPaginas:0}),T=Object(s.a)(k,2),M=T[0],U=T[1];Object(c.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var t,n,a,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n=P.numeroPagina+1,g&&(t=g,n=1),a={nombre:t,numeroPagina:n,cantidadElementos:P.cantidadElementos},e.next=6,ve(a);case 6:return c=e.sent,e.next=9,new Promise((function(e,t){S.get("/instructores/lista").then((function(t){e(t)}))}));case 9:r=e.sent,console.log(c.data),console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"),c.data.listaRecords.map((function(e){return e.alumnos=[],e})),c.data.listaRecords=r.data,console.log(c.data.listaRecords),console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"),console.log(r.data),U(c.data);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[P,g]);var R=Object(c.useState)(!1),D=Object(s.a)(R,2),L=D[0],_=D[1],z=Object(c.useState)(!1),B=Object(s.a)(z,2),G=B[0],K=B[1],V=Object(c.useState)(!1),Y=Object(s.a)(V,2),q=Y[0],J=Y[1],H=Object(c.useState)({InstructorId:"",Nombre:"",Apellidos:"",Email:"",TelefonoM:"",CentroAprendizaje:"",CantAlumnos:0,Categoria:"",UplineMaster:"",ClaveInstructor:"",ClaveUpline:"",alumnos:[]}),X=Object(s.a)(H,2),Z=X[0],$=X[1],Q=function(e){var t=e.target,n=t.name,a=t.value;$((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))},ee=function(e,t){$(e),"Editar"===t?_(!0):K(!0)};return Object(a.jsxs)("div",{style:{padding:"10px",width:"100%"},className:"container",children:[Object(a.jsx)("div",{style:A.paper,children:Object(a.jsx)("h2",{children:"Lista de Instructores"})}),Object(a.jsx)(p.a,{container:!0,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(a.jsx)(p.a,{item:!0,xs:12,sm:4,md:24,children:Object(a.jsx)(f.a,{fullWidth:!0,name:"textoBusquedaInstructor",variant:"outlined",label:"Buscar instructor",onChange:function(e){return h(e.target.value)}})})}),Object(a.jsx)(Se.a,{component:ke.a,children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Me.a,{children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(e,{align:"left",children:"InstructorID"}),Object(a.jsx)(e,{align:"left",children:"Instructores"}),Object(a.jsxs)(Re.a,{mdDown:!0,children:[Object(a.jsx)(e,{align:"left",children:"Apellidos"}),Object(a.jsx)(e,{align:"left",children:"Telefono"}),Object(a.jsx)(e,{align:"left",children:"Email"}),Object(a.jsx)(e,{align:"left",children:"Centro Aprendizaje"}),Object(a.jsx)(e,{align:"left",children:"Cantidad Alumnos"}),Object(a.jsx)(e,{align:"left",children:"Categoria"}),Object(a.jsx)(e,{align:"left",children:"Clave Instructor"}),Object(a.jsx)(e,{align:"left",children:"Upline Master"}),Object(a.jsx)(e,{align:"left",children:"Clave Upline"}),Object(a.jsx)(e,{align:"left",children:"Ver"}),Object(a.jsx)(e,{align:"left",children:"Editar"}),Object(a.jsx)(e,{align:"left",children:"Eliminar"})]})]})}),Object(a.jsx)(De.a,{children:M.listaRecords.map((function(e){return Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(we.a,{align:"left",children:e.instructorId}),Object(a.jsx)(we.a,{align:"left",children:e.nombre}),Object(a.jsxs)(Re.a,{mdDown:!0,children:[Object(a.jsx)(we.a,{align:"left",children:e.apellidos}),Object(a.jsx)(we.a,{align:"left",children:e.telefonoM}),Object(a.jsx)(we.a,{align:"left",children:e.email}),Object(a.jsx)(we.a,{align:"left",children:e.centroAprendizaje}),Object(a.jsx)(we.a,{align:"left",children:e.cantAlumnos}),Object(a.jsx)(we.a,{align:"left",children:e.categoria}),Object(a.jsx)(we.a,{align:"left",children:e.claveInstructor}),Object(a.jsx)(we.a,{align:"left",children:e.uplineMaster}),Object(a.jsx)(we.a,{align:"left",children:e.claveUpline}),Object(a.jsx)(we.a,{align:"left",children:Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-outline-info",onClick:function(){return function(e,t){$(e),console.log("*************************************************"),Qe=e.alumnos,console.log(Qe),console.log("*************************************************"),$(e),J(!0)}(e)},children:Object(a.jsx)(Ye.a,{className:t.extendedIcon})})})}),Object(a.jsx)(we.a,{align:"left",children:Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return ee(e,"Editar")},children:Object(a.jsx)(Ke.a,{className:t.extendedIcon})})})}),Object(a.jsx)(we.a,{align:"left",children:Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return ee(e,"Eliminar")},children:Object(a.jsx)(Be.a,{className:t.extendedIcon})})})})]})]},(e.nombre,e.instructorId))}))})]})}),Object(a.jsx)(Le.a,{component:"div",rowsPerPageOptions:[2,4,6],count:M.totalRecords,rowsPerPage:P.cantidadElementos,page:P.numeroPagina,onChangePage:function(e,t){w((function(e){return Object(b.a)(Object(b.a)({},e),{},{numeroPagina:parseInt(t)})}))},onChangeRowsPerPage:function(e){w((function(t){return Object(b.a)(Object(b.a)({},t),{},{cantidadElementos:parseInt(e.target.value),numeroPagina:0})}))},labelRowsPerPage:"Instructores por pagina"}),Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)("form",{style:A.form}),Object(a.jsxs)(We.a,{style:A.submit,variant:"extended",color:"primary","aria-label":"add",className:t.margin,onClick:Ne,children:[Object(a.jsx)(Je.a,{className:t.extendedIcon}),"EXPORT PDF"]}),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(Ze,{apiData:$e,fileName:"ListaInstructores"})})]}),Object(a.jsxs)(C.a,{isOpen:L,children:[Object(a.jsx)(N.a,{color:"#388e3c",children:Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:"Editar Instructor"})})}),Object(a.jsx)(E.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"ID"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"instructorId",value:Z&&Z.instructorId}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Nombre"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"nombre",value:Z&&Z.nombre,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Apellidos"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"apellidos",value:Z&&Z.apellidos,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"email",value:Z&&Z.email,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Telefono"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"telefonoM",value:Z&&Z.telefonoM,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"CentroAprendizaje"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"centroAprendizaje",value:Z&&Z.centroAprendizaje,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"CantAlumnos"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"cantAlumnos",value:Z&&Z.cantAlumnos,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Categoria"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"categoria",value:Z&&Z.categoria,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Upline Master"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"uplineMaster",value:Z&&Z.uplineMaster,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"ClaveInstructor"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"claveInstructor",value:Z&&Z.claveInstructor,onChange:Q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"ClaveUpline"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"claveUpline",value:Z&&Z.claveUpline,onChange:Q}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return Z.CantAlumnos=+Z.CantAlumnos,Z.TelefonoM=+Z.TelefonoM,void ye(Z).then((function(e){var t="";200===e[0].status&&(t+="Se actualizo exitosamente!!",_(!1)),i({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:t}})}))},children:"Actualizar"}),Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return _(!1)},children:"Cancelar"})]})]}),Object(a.jsxs)(C.a,{isOpen:q,style:{width:"100%"},children:[Object(a.jsx)(N.a,{color:"#388e3c",children:Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:"Lista Instructor - Alumno"})})}),Object(a.jsxs)(E.a,{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"ID Instructor"}),Object(a.jsx)("input",{className:"form-control",readOnly:!0,type:"text",name:"instructorId",value:Z&&Z.instructorId}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Nombre Instructor"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"nombre",value:Z&&Z.nombre,onChange:Q}),Object(a.jsx)("br",{})]}),Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Me.a,{children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(e,{align:"left",children:"AlumnoID"}),Object(a.jsx)(e,{align:"left",children:"Nombre Alumno"}),Object(a.jsx)(e,{align:"left",children:"Escuela Procedencia"})]})}),Object(a.jsx)(De.a,{children:Qe.map((function(e){return Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(we.a,{align:"left",children:e.alumnoId}),Object(a.jsx)(we.a,{align:"left",children:e.nombreAlumno}),Object(a.jsx)(we.a,{align:"left",children:e.escuelaProcedencia})]})}))})]})]}),Object(a.jsx)(I.a,{children:Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return J(!1)},children:"Cancelar"})})]}),Object(a.jsxs)(C.a,{isOpen:G,children:[Object(a.jsxs)(E.a,{children:["Est\xe1s Seguro que deseas eliminar el Instructor"," ",Z&&Z.Nombre]}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return Ce(Z).then((function(e){var t="";200===e[0].status?t+="Se elimino exitosamente":t+="Error: No se pudo eliminar",i({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:t}})})),void K(!1)},children:"S\xed"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return K(!1)},children:"No"})]})]})]})},tt=w.a.create();tt.CancelToken=w.a.CancelToken,tt.isCancel=w.a.isCancel;var nt=function(){var e=Object(O.a)(m.a.mark((function e(t,n){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/alumno",a=S.post("/alumno",t),!n){e.next=10;break}return"/documento",c=S.post("/documento",n),e.next=7,Promise.all([a,c].map((function(e){return e.catch((function(e){return e}))})));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),at=function(e){return new Promise((function(t,n){S.post("/alumno/report",e).then((function(e){t(e)}))}))},ct=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/Alumno/".concat(t.AlumnoId),a=S.put(n,t),e.next=4,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/Alumno/".concat(t.AlumnoId),a=S.delete(n,t),e.next=4,Promise.all([a].map((function(e){return e.catch((function(e){return e}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(e){return new Promise((function(t,n){S.get(window.open("http://localhost:5000/api/ExportarAlumnoDocumento","_self"),e).then((function(e){t(e)}))}))},lt=function(e){var t=e.apiData,n=e.fileName,c=Object(F.a)((function(e){return{margin:{margin:e.spacing(2)},extendedIcon:{marginRight:e.spacing(2)}}}))();return Object(a.jsx)("di",{style:A.paper,children:Object(a.jsxs)(We.a,{style:A.submit,variant:"extended",color:"primary","aria-label":"add",className:c.margin,onClick:function(e){return function(e,t){var n={Sheets:{data:Xe.utils.json_to_sheet(e)},SheetNames:["data"]},a=Xe.write(n,{bookType:"xlsx",type:"array"}),c=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});He.saveAs(c,t+".xlsx")}(t,n)},children:[Object(a.jsx)(Je.a,{className:c.extendedIcon}),"Export Excel"]})})},st=[],ot=function(){var e=Object(_e.a)((function(e){return{head:{backgroundColor:"#009900",color:e.palette.common.white},body:{fontSize:14}}}))(we.a),t=Object(F.a)((function(e){return{margin:{margin:e.spacing(2)},extendedIcon:{marginRight:e.spacing(2)}}}))(),n=W(),r=Object(s.a)(n,2),i=(r[0].sesionUsuario,r[1]),l=Object(c.useState)([]),o=Object(s.a)(l,2),j=(o[0],o[1],Object(c.useState)("")),u=Object(s.a)(j,2),x=u[0],h=u[1],g=Fe(x,900),v=Object(c.useState)({titulo:"",numeroPagina:0,cantidadElementos:5}),y=Object(s.a)(v,2),P=y[0],w=y[1],S=Object(c.useState)({listaRecords:[],totalRecords:0,numeroPaginas:0}),k=Object(s.a)(S,2),T=k[0],M=k[1];Object(c.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var t,n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n=P.numeroPagina+1,g&&(t=g,n=1),a={nombre:t,numeroPagina:n,cantidadElementos:P.cantidadElementos},e.next=6,at(a);case 6:c=e.sent,M(c.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[P,g]),st=T.listaRecords,console.log("lista alumospaginador"),console.log(st);var U=Object(c.useState)(!1),R=Object(s.a)(U,2),D=R[0],L=R[1],_=Object(c.useState)(!1),z=Object(s.a)(_,2),B=z[0],G=z[1],K=Object(c.useState)({AlumnoId:"",NombreAlumno:"",ApellidosAlumno:"",FechaNacimiento:"",Edad:0,Telefono:0,Sexo:"",EmailAlumno:"",EscuelaProcedencia:"",GradoEstudio:"",InstructorId:"",ExamenValorativo:"",FechaExamen:"",LugarExamen:"",MetaInicio:0,CursoEspecial:"",NivelInscrito:"",Libro:0,FechaInscripcion:"",TipoPago:"",Precio:0}),V=Object(s.a)(K,2),Y=V[0],q=V[1],J=function(){q({AlumnoId:"",NombreAlumno:"",ApellidosAlumno:"",FechaNacimiento:"",Edad:0,Telefono:0,Sexo:"",EmailAlumno:"",EscuelaProcedencia:"",GradoEstudio:"",InstructorId:"",ExamenValorativo:"",FechaExamen:"",LugarExamen:"",MetaInicio:0,CursoEspecial:"",NivelInscrito:"",Libro:0,FechaInscripcion:"",TipoPago:"",Precio:0})},H=function(e){var t=e.target,n=t.name,a=t.value;q((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))},X=function(e,t){q(e),"Editar"===t?L(!0):G(!0)};return Object(a.jsxs)("div",{style:{padding:"10px",width:"100%"},className:"container",children:[Object(a.jsx)("div",{style:A.paper,children:Object(a.jsx)("h2",{children:"Lista de Alumnos"})}),Object(a.jsx)(p.a,{container:!0,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(a.jsx)(p.a,{item:!0,xs:12,sm:4,md:24,children:Object(a.jsx)(f.a,{fullWidth:!0,name:"textoBusquedaAlumno",variant:"outlined",label:"Buscar Alumno",onChange:function(e){return h(e.target.value)}})})}),Object(a.jsx)(Se.a,{component:ke.a,children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Me.a,{children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(e,{align:"left",children:"AlumnoID"}),Object(a.jsx)(e,{align:"left",children:"Alumno"}),Object(a.jsxs)(Re.a,{mdDown:!0,children:[Object(a.jsx)(e,{align:"left",children:"Apellidos"}),Object(a.jsx)(e,{align:"left",children:"Edad"}),Object(a.jsx)(e,{align:"left",children:"Telefono"}),Object(a.jsx)(e,{align:"left",children:"Sexo"}),Object(a.jsx)(e,{align:"left",children:"Email"}),Object(a.jsx)(e,{align:"left",children:"Escuela Procedencia"}),Object(a.jsx)(e,{align:"left",children:"Grado Estudios"}),Object(a.jsx)(e,{align:"left",children:"InstructorID"}),Object(a.jsx)(e,{align:"left",children:"Examen Valorativo"}),Object(a.jsx)(e,{align:"left",children:"Fecha Examen"}),Object(a.jsx)(e,{align:"left",children:"Lugar Examen"}),Object(a.jsx)(e,{align:"left",children:"Meta Inicio"}),Object(a.jsx)(e,{align:"left",children:"Curso Especial"}),Object(a.jsx)(e,{align:"left",children:"Nivel Inscrito"}),Object(a.jsx)(e,{align:"left",children:"Libro"}),Object(a.jsx)(e,{align:"left",children:"Fecha Inscripcion"}),Object(a.jsx)(e,{align:"left",children:"Tipo Pago"}),Object(a.jsx)(e,{align:"left",children:"Precio"}),Object(a.jsx)(e,{align:"left",children:"Editar"}),Object(a.jsx)(e,{align:"left",children:"Eliminar"})]})]})}),Object(a.jsx)(De.a,{children:T.listaRecords.map((function(e){return Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(we.a,{align:"left",children:e.AlumnoId}),Object(a.jsx)(we.a,{align:"left",children:e.NombreAlumno}),Object(a.jsxs)(Re.a,{mdDown:!0,children:[Object(a.jsx)(we.a,{align:"left",children:e.ApellidosAlumno}),Object(a.jsx)(we.a,{align:"left",children:e.Edad}),Object(a.jsx)(we.a,{align:"left",children:e.Telefono}),Object(a.jsx)(we.a,{align:"left",children:e.Sexo}),Object(a.jsx)(we.a,{align:"left",children:e.EmailAlumno}),Object(a.jsx)(we.a,{align:"left",children:e.EscuelaProcedencia}),Object(a.jsx)(we.a,{align:"left",children:e.GradoEstudio}),Object(a.jsx)(we.a,{align:"left",children:e.InstructorId}),Object(a.jsx)(we.a,{align:"left",children:e.ExamenValorativo}),Object(a.jsx)(we.a,{align:"left",children:e.FechaExamen}),Object(a.jsx)(we.a,{align:"left",children:e.LugarExamen}),Object(a.jsx)(we.a,{align:"left",children:e.MetaInicio}),Object(a.jsx)(we.a,{align:"left",children:e.CursoEspecial}),Object(a.jsx)(we.a,{align:"left",children:e.NivelInscrito}),Object(a.jsx)(we.a,{align:"left",children:e.Libro}),Object(a.jsx)(we.a,{align:"left",children:e.FechaInscripcion}),Object(a.jsx)(we.a,{align:"left",children:e.TipoPago}),Object(a.jsx)(we.a,{align:"left",children:e.Precio}),Object(a.jsx)(we.a,{align:"left",children:Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return X(e,"Editar")},children:"Editar"})})}),Object(a.jsx)(we.a,{align:"left",children:Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return X(e,"Eliminar")},children:"Eliminar"})})})]})]},(e.nombreAlumno,e.id))}))})]})}),Object(a.jsx)(Le.a,{component:"div",rowsPerPageOptions:[5,10,25],count:T.totalRecords,rowsPerPage:P.cantidadElementos,page:P.numeroPagina,onChangePage:function(e,t){w((function(e){return Object(b.a)(Object(b.a)({},e),{},{numeroPagina:parseInt(t)})}))},onChangeRowsPerPage:function(e){w((function(t){return Object(b.a)(Object(b.a)({},t),{},{cantidadElementos:parseInt(e.target.value),numeroPagina:0})}))},labelRowsPerPage:"Alumnos por pagina"}),Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)("form",{style:A.form}),Object(a.jsxs)(We.a,{style:A.submit,variant:"extended",color:"primary","aria-label":"add",className:t.margin,onClick:it,children:[Object(a.jsx)(Je.a,{className:t.extendedIcon}),"EXPORT PDF"]}),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(lt,{apiData:st,fileName:"ListaAlumnos"})})]}),Object(a.jsxs)(C.a,{isOpen:D,children:[Object(a.jsx)(N.a,{color:"#388e3c",children:Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:"Editar Alumno"})})}),Object(a.jsx)(E.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"ID"}),Object(a.jsx)("input",{className:"form-control",readOnly:!0,type:"text",name:"AlumnoId",value:Y&&Y.AlumnoId}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Nombre"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"NombreAlumno",value:Y&&Y.NombreAlumno,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Apellidos"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"ApellidosAlumno",value:Y&&Y.ApellidosAlumno,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Fecha Nacimiento"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"FechaNacimiento",value:Y&&Y.FechaNacimiento,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Edad"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"Edad",value:Y&&Y.Edad,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Telefono"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"Telefono",value:Y&&parseInt(Y.Telefono),onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Sexo"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"Sexo",value:Y&&Y.Sexo,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"EmailAlumno",value:Y&&Y.EmailAlumno,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Escuela Procedencia"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"EscuelaProcedencia",value:Y&&Y.EscuelaProcedencia,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Grado Estudios"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"GradoEstudio",value:Y&&Y.GradoEstudio,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Instructor Id"}),Object(a.jsx)("input",{className:"form-control",readOnly:!0,type:"text",name:"InstructorId",value:Y&&Y.InstructorId,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Examen Valorativo"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"ExamenValorativo",value:Y&&Y.ExamenValorativo,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Fecha Examen"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"FechaExamen",value:Y&&Y.FechaExamen,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Lugar Examen"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"LugarExamen",value:Y&&Y.LugarExamen,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Meta Inicio"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"MetaInicio",value:Y&&Y.MetaInicio,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Curso Especial"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"CursoEspecial",value:Y&&Y.CursoEspecial,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Nivel Inscrito"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"NivelInscrito",value:Y&&Y.NivelInscrito,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Libro"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"Libro",value:Y&&Y.Libro,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Fecha Inscripcion"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"FechaInscripcion",value:Y&&Y.FechaInscripcion,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Tipo Pago"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"TipoPago",value:Y&&Y.TipoPago,onChange:H}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Precio"}),Object(a.jsx)("input",{className:"form-control",type:"text",name:"Precio",value:Y&&Y.Precio,onChange:H}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return Y.Edad=+Y.Edad,Y.Telefono=+Y.Telefono,Y.MetaInicio=+Y.MetaInicio,Y.Libro=+Y.Libro,Y.Precio=+Y.Precio,void ct(Y).then((function(e){var t=e[0],n="";200===t.status?(n+="Se actualizo exitosamente",J(),L(!1)):n+="Errores :"+Object.keys(t.response.data.errors),i({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:n}})}))},children:"Actualizar"}),Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return L(!1)},children:"Cancelar"})]})]}),Object(a.jsxs)(C.a,{isOpen:B,children:[Object(a.jsxs)(E.a,{children:["Est\xe1s Seguro que deseas eliminar el Alumno"," ",Y&&Y.NombreAlumno]}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return rt(Y).then((function(e){var t="";200===e[0].status&&(t+="Se elimino exitosamente",J()),i({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:t}})})),void G(!1)},children:"S\xed"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return G(!1)},children:"No"})]})]})]})},jt=n(30),ut=n(275),dt=n(87);function bt(){xt();return Object(a.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 YouLEAD  ",(new Date).getFullYear(),"."]})}var xt=Object(F.a)((function(e){return{submit:{margin:e.spacing(3,0,2)}}})),mt=function(){var e=xt(),t=W(),n=Object(s.a)(t,2),r=(n[0].sesionUsuario,n[1]),i=Object(c.useState)(new Date),l=Object(s.a)(i,2),o=l[0],j=l[1],u=Object(c.useState)(new Date),x=Object(s.a)(u,2),m=x[0],O=x[1],h=Object(c.useState)(new Date),v=Object(s.a)(h,2),C=v[0],N=v[1],E=[{value:"Si",label:"Si"},{value:"No",label:"No"}],I=Object(c.useState)({NombreAlumno:"",ApellidosAlumno:"",FechaNacimiento:"",Edad:0,Sexo:"",Telefono:0,EmailAlumno:"",EscuelaProcedencia:"",GradoEstudio:"",InstructorId:"",ExamenValorativo:"",FechaExamen:"",LugarExamen:"",MetaInicio:0,CursoEspecial:"",NivelInscrito:"",Libro:0,FechaInscripcion:"",TipoPago:"",Precio:0}),P=Object(s.a)(I,2),w=P[0],S=P[1],k=function(e){var t=e.target,n=t.name,a=t.value;S((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))};return Object(a.jsx)("div",{style:A.paper,className:"container",children:Object(a.jsx)(_.a,{className:e.root,style:{background:"#009900"},children:Object(a.jsx)(z.a,{children:Object(a.jsxs)("div",{style:A.paper,className:"container",children:[Object(a.jsx)("h2",{children:"C\xe9dula de registro"}),Object(a.jsx)("div",{className:"flex-row"}),Object(a.jsxs)("div",{className:"flex-large",children:[Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)("h3",{children:"Datos generales del alumno(a)"})}),Object(a.jsx)("div",{style:A.paper,children:Object(a.jsxs)("form",{style:A.form,children:[Object(a.jsx)(B.a,{mt:2,children:Object(a.jsx)(p.a,{container:!0,spacing:2,children:Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"InstructorId",variant:"outlined",fullWidth:!0,label:"ID del instructor encargado",value:w.InstructorId,onChange:k})})})}),Object(a.jsx)(B.a,{mt:5,children:Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"NombreAlumno",variant:"outlined",fullWidth:!0,label:"Ingrese Nombre(s)",value:w.NombreAlumno,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"ApellidosAlumno",variant:"outlined",fullWidth:!0,label:"Apellidos",value:w.ApellidosAlumno,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(jt.a,{utils:dt.a,children:Object(a.jsx)(ut.a,{value:o,onChange:j,id:"fecha-nacimiento-id",label:"Ingrese su Fecha Nacimiento",format:"dd/MM/yyyy",fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:1,children:Object(a.jsx)(f.a,{name:"Edad",variant:"outlined",label:"Edad",value:w.Edad,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(f.a,{name:"Sexo",variant:"outlined",select:!0,fullWidth:!0,label:"Sexo",value:w.Sexo,onChange:k,children:[{value:"F",label:"Femenino"},{value:"M",label:"Masculino"}].map((function(e){return Object(a.jsx)(Ee.a,{value:e.value,children:e.label},e.value)}))})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"Telefono",variant:"outlined",fullWidth:!0,label:"Telefono (10 digitos)",value:w.Telefono,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"EmailAlumno",variant:"outlined",fullWidth:!0,label:"Email",value:w.EmailAlumno,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:7,children:Object(a.jsx)(f.a,{name:"EscuelaProcedencia",variant:"outlined",fullWidth:!0,label:"Escuela de Procedencia",value:w.EscuelaProcedencia,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:5,children:Object(a.jsx)(f.a,{name:"GradoEstudio",variant:"outlined",fullWidth:!0,label:"Grado de Estudio",value:w.GradoEstudio,onChange:k})})]})})]})})]}),Object(a.jsxs)("div",{className:"flex-large",children:[Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)("h2",{children:"Datos de ingreso al curso"})}),Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)("form",{style:A.form}),Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"ExamenValorativo",variant:"outlined",select:!0,fullWidth:!0,label:"Examen valorativo",value:w.ExamenValorativo,onChange:k,children:E.map((function(e){return Object(a.jsx)(Ee.a,{value:e.value,children:e.label},e.value)}))})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(f.a,{name:"LugarExamen",variant:"outlined",fullWidth:!0,label:"Lugar donde presento el Examen",value:w.LugarExamen,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(jt.a,{utils:dt.a,children:Object(a.jsx)(ut.a,{value:C,onChange:N,id:"fecha-examen-id",label:"Fecha de Examen Valorativo",format:"dd/MM/yyyy",fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(f.a,{name:"MetaInicio",variant:"outlined",fullWidth:!0,label:"Meta de Inicio",value:w.MetaInicio,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"CursoEspecial",variant:"outlined",select:!0,fullWidth:!0,label:"Curso Especial",value:w.CursoEspecial,onChange:k,children:E.map((function(e){return Object(a.jsx)(Ee.a,{value:e.value,children:e.label},e.value)}))})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(f.a,{name:"NivelInscrito",variant:"outlined",fullWidth:!0,label:"Nivel de ingles",value:w.NivelInscrito,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"Libro",variant:"outlined",fullWidth:!0,label:"N\xfamero de Libro",value:w.Libro,onChange:k})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(jt.a,{utils:dt.a,children:Object(a.jsx)(ut.a,{value:m,onChange:O,id:"fecha-ingreso-id",label:"Fecha de ingreso a Curso",format:"dd/MM/yyyy",fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"TipoPago",variant:"outlined",select:!0,fullWidth:!0,label:"Tipo de pago",value:w.TipoPago,onChange:k,children:[{value:"Mensual",label:"Mensual"},{value:"Semanal",label:"Semanal"}].map((function(e){return Object(a.jsx)(Ee.a,{value:e.value,children:e.label},e.value)}))})}),Object(a.jsx)(p.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(f.a,{name:"Precio",variant:"outlined",fullWidth:!0,label:"Ingrese Precio a Pagar",value:w.Precio,onChange:k})})]}),Object(a.jsx)(p.a,{container:!0,justify:"center",children:Object(a.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(B.a,{mt:5,children:Object(a.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",startIcon:Object(a.jsx)(y.a,{}),style:A.submit,onClick:function(e){e.preventDefault();var t={NombreAlumno:w.NombreAlumno,ApellidosAlumno:w.ApellidosAlumno,FechaNacimiento:o,Edad:parseInt(w.Edad),Sexo:w.Sexo,Telefono:parseInt(w.Telefono),EmailAlumno:w.EmailAlumno,EscuelaProcedencia:w.EscuelaProcedencia,GradoEstudio:w.GradoEstudio,InstructorId:parseInt(w.InstructorId),ExamenValorativo:w.ExamenValorativo,FechaExamen:C,LugarExamen:w.LugarExamen,MetaInicio:parseInt(w.MetaInicio),CursoEspecial:w.CursoEspecial,NivelInscrito:w.NivelInscrito,Libro:parseInt(w.Libro),FechaInscripcion:m,TipoPago:w.TipoPago,Precio:parseInt(w.Precio)};nt(t).then((function(e){var t=e[0],n="";200===t.status?(n+="Se guardo exitosamente el nuevo alumno",j(new Date),O(new Date),N(new Date),S({NombreAlumno:"",ApellidosAlumno:"",FechaNacimiento:"",Edad:0,Sexo:"",Telefono:0,EmailAlumno:"",EscuelaProcedencia:"",GradoEstudio:"",InstructorId:"",ExamenValorativo:"",FechaExamen:"",LugarExamen:"",MetaInicio:0,CursoEspecial:"",NivelInscrito:"",Libro:0,FechaInscripcion:"",TipoPago:"",Precio:0})):n+="Errores :"+Object.keys(t.response.data.errors),r({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:n}})}))},children:"Guardar Alumno"})})})}),Object(a.jsx)(B.a,{mt:10,children:Object(a.jsx)(bt,{})})]})]})]})})})})},Ot=n(273),ht=n(100),pt=n.n(ht);function ft(){gt();return Object(a.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 YouLEAD  ",(new Date).getFullYear(),"."]})}var gt=Object(F.a)((function(e){return{root:{height:"50vh"},image:{backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function vt(e){var t=gt(),n=W(),r=Object(s.a)(n,2),i=(r[0].usuarioSesion,r[1]),l=Object(c.useState)({Email:"",Password:""}),o=Object(s.a)(l,2),j=o[0],u=o[1],x=function(e){var t=e.target,n=t.name,a=t.value;u((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))};return Object(a.jsxs)(p.a,{container:!0,component:"main",children:[Object(a.jsx)(Ot.a,{}),Object(a.jsx)(p.a,{item:!0,xs:!1,sm:2,md:7,className:t.image,children:Object(a.jsx)("img",{src:H,style:{height:"95vh"}})}),Object(a.jsx)(p.a,{item:!0,xs:12,sm:8,md:5,component:ke.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(X.a,{children:Object(a.jsx)(pt.a,{})}),Object(a.jsx)(h.a,{component:"h1",variant:"h5",children:"Welcome"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(a.jsx)(f.a,{name:"Email",value:j.Email,onChange:x,variant:"outlined",label:"Email",fullWidth:!0,margin:"normal"}),Object(a.jsx)(f.a,{name:"Password",value:j.Password,onChange:x,variant:"outlined",type:"password",label:"Password",fullWidth:!0,margin:"normal"}),Object(a.jsx)(g.a,{type:"submit",onClick:function(t){t.preventDefault(),T(j,i).then((function(t){console.log("response.data.token",t.data.token),200===t.status?(window.localStorage.setItem("token_seguridad",t.data.token),e.history.push("/")):i({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Las credenciales del usuario son incorrectas"}})}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(a.jsx)(B.a,{mt:30,children:Object(a.jsx)(ft,{})})]})]})})]})}var yt=function(){return Object(a.jsx)(q.a,{maxWidth:"xs",children:Object(a.jsx)("div",{style:A.paper,children:Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{component:"div",variant:"h5",style:{height:"35vh"},children:Object(a.jsx)("img",{src:H,style:{height:"75vh"}})})})})})},Ct=[],Nt=function(){var e=Object(_e.a)((function(e){return{head:{backgroundColor:"#009900",color:e.palette.common.white},body:{fontSize:14}}}))(we.a),t=Object(F.a)((function(e){return{margin:{margin:e.spacing(2)},extendedIcon:{marginRight:e.spacing(2)}}}))(),n=W(),r=Object(s.a)(n,2),i=(r[0].sesionUsuario,r[1],Object(c.useState)([])),l=Object(s.a)(i,2),o=(l[0],l[1],Object(c.useState)("")),j=Object(s.a)(o,2),u=j[0],d=j[1],x=Fe(u,900),h=Object(c.useState)({titulo:"",numeroPagina:0,cantidadElementos:5}),g=Object(s.a)(h,2),v=g[0],y=g[1],C=Object(c.useState)({listaRecords:[],totalRecords:0,numeroPaginas:0}),N=Object(s.a)(C,2),E=N[0],I=N[1];Object(c.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var t,n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n=v.numeroPagina+1,x&&(t=x,n=1),a={nombre:t,numeroPagina:n,cantidadElementos:v.cantidadElementos},e.next=6,at(a);case 6:c=e.sent,I(c.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v,x]),Ct=E.listaRecords,console.log("lista alumoslista"),console.log(Ct);return Object(a.jsxs)("div",{style:{padding:"10px",width:"100%"},className:"container",children:[Object(a.jsx)("div",{style:A.paper,children:Object(a.jsx)("h2",{children:"Lista de Alumnos"})}),Object(a.jsx)(p.a,{container:!0,style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(a.jsx)(p.a,{item:!0,xs:12,sm:4,md:24,children:Object(a.jsx)(f.a,{fullWidth:!0,name:"textoBusquedaAlumno",variant:"outlined",label:"Buscar Alumno",onChange:function(e){return d(e.target.value)}})})}),Object(a.jsx)(Se.a,{component:ke.a,children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Me.a,{children:Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(e,{align:"left",children:"AlumnoID"}),Object(a.jsx)(e,{align:"left",children:"Alumno"}),Object(a.jsxs)(Re.a,{mdDown:!0,children:[Object(a.jsx)(e,{align:"left",children:"Apellidos"}),Object(a.jsx)(e,{align:"left",children:"Edad"}),Object(a.jsx)(e,{align:"left",children:"Telefono"}),Object(a.jsx)(e,{align:"left",children:"Sexo"}),Object(a.jsx)(e,{align:"left",children:"Email"}),Object(a.jsx)(e,{align:"left",children:"Escuela Procedencia"}),Object(a.jsx)(e,{align:"left",children:"Grado Estudios"}),Object(a.jsx)(e,{align:"left",children:"InstructorID"}),Object(a.jsx)(e,{align:"left",children:"Examen Valorativo"}),Object(a.jsx)(e,{align:"left",children:"Fecha Examen"}),Object(a.jsx)(e,{align:"left",children:"Lugar Examen"}),Object(a.jsx)(e,{align:"left",children:"Meta Inicio"}),Object(a.jsx)(e,{align:"left",children:"Curso Especial"}),Object(a.jsx)(e,{align:"left",children:"Nivel Inscrito"}),Object(a.jsx)(e,{align:"left",children:"Libro"}),Object(a.jsx)(e,{align:"left",children:"Fecha Inscripcion"}),Object(a.jsx)(e,{align:"left",children:"Tipo Pago"}),Object(a.jsx)(e,{align:"left",children:"Precio"})]})]})}),Object(a.jsx)(De.a,{children:E.listaRecords.map((function(e){return Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(we.a,{align:"left",children:e.AlumnoId}),Object(a.jsx)(we.a,{align:"left",children:e.NombreAlumno}),Object(a.jsxs)(Re.a,{mdDown:!0,children:[Object(a.jsx)(we.a,{align:"left",children:e.ApellidosAlumno}),Object(a.jsx)(we.a,{align:"left",children:e.Edad}),Object(a.jsx)(we.a,{align:"left",children:e.Telefono}),Object(a.jsx)(we.a,{align:"left",children:e.Sexo}),Object(a.jsx)(we.a,{align:"left",children:e.EmailAlumno}),Object(a.jsx)(we.a,{align:"left",children:e.EscuelaProcedencia}),Object(a.jsx)(we.a,{align:"left",children:e.GradoEstudio}),Object(a.jsx)(we.a,{align:"left",children:e.InstructorId}),Object(a.jsx)(we.a,{align:"left",children:e.ExamenValorativo}),Object(a.jsx)(we.a,{align:"left",children:e.FechaExamen}),Object(a.jsx)(we.a,{align:"left",children:e.LugarExamen}),Object(a.jsx)(we.a,{align:"left",children:e.MetaInicio}),Object(a.jsx)(we.a,{align:"left",children:e.CursoEspecial}),Object(a.jsx)(we.a,{align:"left",children:e.NivelInscrito}),Object(a.jsx)(we.a,{align:"left",children:e.Libro}),Object(a.jsx)(we.a,{align:"left",children:e.FechaInscripcion}),Object(a.jsx)(we.a,{align:"left",children:e.TipoPago}),Object(a.jsx)(we.a,{align:"left",children:e.Precio})]})]},(e.nombreAlumno,e.id))}))})]})}),Object(a.jsx)(Le.a,{component:"div",rowsPerPageOptions:[5,10,25],count:E.totalRecords,rowsPerPage:v.cantidadElementos,page:v.numeroPagina,onChangePage:function(e,t){y((function(e){return Object(b.a)(Object(b.a)({},e),{},{numeroPagina:parseInt(t)})}))},onChangeRowsPerPage:function(e){y((function(t){return Object(b.a)(Object(b.a)({},t),{},{cantidadElementos:parseInt(e.target.value),numeroPagina:0})}))},labelRowsPerPage:"Alumnos por pagina"}),Object(a.jsxs)("div",{style:A.paper,children:[Object(a.jsx)("form",{style:A.form}),Object(a.jsxs)(We.a,{style:A.submit,variant:"extended",color:"primary","aria-label":"add",className:t.margin,onClick:it,children:[Object(a.jsx)(Je.a,{className:t.extendedIcon}),"PDF"]}),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(lt,{apiData:Ct,fileName:"ListaAlumnos"})})]})]})};var Et=function(){var e=W(),t=Object(s.a)(e,2),n=t[0],i=(n.sesionUsuario,n.openSnackbar),l=t[1],j=Object(c.useState)(!1),d=Object(s.a)(j,2),b=d[0].iniciaApp,x=d[1];return Object(c.useEffect)((function(){b||function(e){return new Promise((function(t,n){k.get("/usuario").then((function(n){if(console.log("response",n),n.data&&n.data.imagenPerfil){var a=n.data.imagenPerfil,c="data:image/"+a.extension+";base64,"+a.data;n.data.imagenPerfil=c}e({type:"INICIAR_SESION",sesion:n.data,autenticado:!0}),t(n)})).catch((function(e){console.log("error actualizar",e),t(e)}))}))}(l).then((function(e){x(!0)})).catch((function(e){x(!0)}))}),[b]),!1===b?null:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!i&&i.open,autoHideDuration:3e3,ContentProps:{"aria-describedby":"message-id"},message:Object(a.jsx)("span",{id:"message-id",children:i?i.mensaje:""}),onClose:function(){return l({type:"OPEN_SNACKBAR",openMensaje:{open:!1,mensaje:""}})}}),Object(a.jsx)(ne.a,{children:Object(a.jsxs)(o.a,{theme:u,children:[Object(a.jsx)(Oe,{}),Object(a.jsx)(p.a,{container:!0,children:Object(a.jsxs)(J.d,{children:[Object(a.jsx)(J.b,{exact:!0,path:"/auth/login",component:vt}),Object(a.jsx)(J.b,{exact:!0,path:"/auth/registrar",component:Y}),Object(a.jsx)(pe,{exact:!0,path:"/auth/perfil",component:te}),Object(a.jsx)(pe,{exact:!0,path:"/",component:te}),Object(a.jsx)(J.b,{exact:!0,path:"/Home",component:yt}),Object(a.jsx)(J.b,{exact:!0,path:"/instructor/nuevo",component:Pe}),Object(a.jsx)(J.b,{exact:!0,path:"/instructor/paginador",component:et}),Object(a.jsx)(J.b,{exact:!0,path:"/alumno/nuevo",component:mt}),Object(a.jsx)(J.b,{exact:!0,path:"/alumno/paginador",component:ot}),Object(a.jsx)(J.b,{exact:!0,path:"/alumno/listaAlumno",component:Nt})]})})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var It={usuario:{nombreCompleto:"",email:"",userName:"",foto:""},autenticado:!1},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INICIAR_SESION":return Object(b.a)(Object(b.a)({},e),{},{usuario:t.sesion,autenticado:t.autenticado});case"SALIR_SESION":case"ACTUALIZAR_USUARIO":return Object(b.a)(Object(b.a)({},e),{},{usuario:t.nuevoUsuario,autenticado:t.autenticado});default:return e}},Pt={open:!1,mensaje:""},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action",t),t.type){case"OPEN_SNACKBAR":return Object(b.a)(Object(b.a)({},e),{},{open:t.openMensaje.open,mensaje:t.openMensaje.mensaje});default:return e}};l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(L,{initialState:{},reducer:function(e,t){var n=e.sesionUsuario,a=e.openSnackbar;return{sesionUsuario:At(n,t),openSnackbar:wt(a,t)}},children:Object(a.jsx)(Et,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[206,1,2]]]);
//# sourceMappingURL=main.5a25c8ee.chunk.js.map